"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9870],{9870:(C,g,i)=>{i.r(g),i.d(g,{Tab1PageModule:()=>_});var n=i(7852),p=i(6814),m=i(95),f=i(3554),h=i(5258),d=i(5861),e=i(9468),v=i(7015);function T(o,c){if(1&o){const a=e.EpF();e.TgZ(0,"ion-col",10)(1,"ion-list")(2,"ion-item-sliding")(3,"ion-item")(4,"ion-toggle",11),e.NdJ("ionChange",function(r){const s=e.CHM(a).$implicit,u=e.oxw();return e.KtG(u.handleToggleChange(s.name,r))}),e._uU(5),e.qZA()(),e.TgZ(6,"ion-item-options",12)(7,"ion-item-option",13),e.NdJ("click",function(){const l=e.CHM(a).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(l.name))}),e._uU(8," Borrar "),e.qZA()()()()()}if(2&o){const a=c.$implicit;e.xp6(4),e.Q6J("checked",a.checked),e.xp6(1),e.hij(" ",a.name," ")}}const b=[{path:"",component:(()=>{var o;class c{constructor(t,r){this.dataService=t,this.alertController=r,this.products=[]}ngOnInit(){this.dataService.productsUpdated.subscribe(()=>{this.fetchProducts()}),this.dataService.storageInitialized.subscribe(()=>{this.fetchProducts()})}deleteProduct(t){var r=this;return(0,d.Z)(function*(){yield r.dataService.remove(t,!1),r.fetchProducts()})()}fetchProducts(){var t=this;return(0,d.Z)(function*(){t.products=yield t.dataService.getProducts(!1),console.log("Productos obtenidos:",t.products)})()}handleToggleChange(t,r){var l=this;return(0,d.Z)(function*(){const u=r.detail.checked;yield l.dataService.set(t,u,!1)})()}addProduct(){var t=this;return(0,d.Z)(function*(){var l;yield(yield t.alertController.create({header:"Nuevo producto",inputs:[{name:"productName",type:"text",placeholder:"Nombre del producto"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"A\xf1adir",handler:(l=(0,d.Z)(function*(s){return s.productName.trim()?s.productName.trim().length>30?(console.log("El producto excede los 30 caracteres."),!1):(yield t.dataService.set(s.productName,!0,!1),t.fetchProducts(),!0):(console.log("El producto est\xe1 en blanco."),!1)}),function(u){return l.apply(this,arguments)})}]})).present()})()}clearStorage(){var t=this;return(0,d.Z)(function*(){yield(yield t.alertController.create({header:"Confirmar borrado",message:"\xbfSeguro que quieres borrar todos los productos? Si solo quieres eliminar un producto puedes deslizarlo hacia la izquierda",buttons:[{text:"Cancelar",role:"cancel"},{text:"Borrar",handler:()=>{t.dataService.clear()}}]})).present()})()}}return(o=c).\u0275fac=function(t){return new(t||o)(e.Y36(v.D),e.Y36(n.Br))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tab1-despensa"]],decls:14,vars:3,consts:[[3,"translucent"],["color","primary"],["slot","start","name","home","size","large",1,"ion-padding"],["slot","end","color","danger",1,"ion-margin",3,"click"],["slot","icon-only","name","trash"],[3,"fullscreen"],["size","12","size-md","6",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["size","12","size-md","6"],["slot","end",3,"checked","ionChange"],["side","end"],["color","danger",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),e._UZ(2,"ion-icon",2),e.TgZ(3,"ion-title"),e._uU(4,"Despensa"),e.qZA(),e.TgZ(5,"ion-button",3),e.NdJ("click",function(){return r.clearStorage()}),e._UZ(6,"ion-icon",4),e.qZA()()(),e.TgZ(7,"ion-content",5)(8,"ion-grid")(9,"ion-row"),e.YNc(10,T,9,2,"ion-col",6),e.qZA()(),e.TgZ(11,"ion-fab",7)(12,"ion-fab-button",8),e.NdJ("click",function(){return r.addProduct()}),e._UZ(13,"ion-icon",9),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(7),e.Q6J("fullscreen",!0),e.xp6(3),e.Q6J("ngForOf",r.products))},dependencies:[n.YG,n.wI,n.W2,n.IJ,n.W4,n.jY,n.Gu,n.gu,n.Ie,n.u8,n.IK,n.td,n.q_,n.Nd,n.wd,n.ho,n.sr,n.w,p.sg],styles:["ion-toggle[_ngcontent-%COMP%]{width:100%;padding-right:10pt;padding-left:10pt;height:100%}ion-item[_ngcontent-%COMP%]:hover   *[_ngcontent-%COMP%]{background-color:#add8e63e}"]}),c})()}];let P=(()=>{var o;class c{}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(b),h.Bz]}),c})(),_=(()=>{var o;class c{}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[n.Pc,p.ez,m.u5,f.e,P]}),c})()}}]);