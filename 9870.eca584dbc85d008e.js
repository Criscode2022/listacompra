"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9870],{9870:(y,u,r)=>{r.r(u),r.d(u,{Tab1PageModule:()=>v});var n=r(5548),g=r(6814),p=r(95),m=r(3554),h=r(4482),l=r(5861),e=r(6689),f=r(7015);function b(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"ion-col",10)(1,"ion-list")(2,"ion-item")(3,"ion-toggle",11),e.NdJ("ionChange",function(i){const d=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.handleToggleChange(d.name,i))}),e._uU(4),e.qZA()()()()}if(2&o){const t=c.$implicit;e.xp6(3),e.Q6J("checked",t.checked),e.xp6(1),e.Oqu(t.name)}}const T=[{path:"",component:(()=>{class o{constructor(t,a){this.dataService=t,this.alertController=a,this.products=[]}ngOnInit(){this.dataService.productsUpdated.subscribe(()=>{this.fetchProducts()}),this.dataService.storageInitialized.subscribe(()=>{this.fetchProducts()})}fetchProducts(){var t=this;return(0,l.Z)(function*(){t.products=yield t.dataService.getProducts(),console.log("Productos obtenidos:",t.products)})()}handleToggleChange(t,a){var i=this;return(0,l.Z)(function*(){const d=a.detail.checked;yield i.dataService.set(t,d)})()}addProduct(){var t=this;return(0,l.Z)(function*(){var i;yield(yield t.alertController.create({header:"Nuevo producto",inputs:[{name:"productName",type:"text",placeholder:"Nombre del producto"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"A\xf1adir",handler:(i=(0,l.Z)(function*(s){return s.productName.trim()?s.productName.trim().length>30?(console.log("El producto excede los 30 caracteres."),!1):(yield t.dataService.set(s.productName,!0),t.fetchProducts(),!0):(console.log("El producto est\xe1 en blanco."),!1)}),function(d){return i.apply(this,arguments)})}]})).present()})()}clearStorage(){var t=this;return(0,l.Z)(function*(){yield(yield t.alertController.create({header:"Confirmar borrado",message:"\xbfEst\xe1s seguro de que quieres borrar todos los productos?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Borrar",handler:()=>{t.dataService.clear()}}]})).present()})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.D),e.Y36(n.Br))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tab1-despensa"]],decls:14,vars:3,consts:[[3,"translucent"],["color","primary"],["slot","start","name","home-outline",1,"ion-margin"],["slot","end","color","danger",1,"ion-margin",3,"click"],["slot","icon-only","name","trash",1,"ion-margin"],[3,"fullscreen"],["size","12","size-md","6",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["size","12","size-md","6"],["slot","end",3,"checked","ionChange"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),e._UZ(2,"ion-icon",2),e.TgZ(3,"ion-title"),e._uU(4,"Despensa"),e.qZA(),e.TgZ(5,"ion-button",3),e.NdJ("click",function(){return a.clearStorage()}),e._UZ(6,"ion-icon",4),e.qZA()()(),e.TgZ(7,"ion-content",5)(8,"ion-grid")(9,"ion-row"),e.YNc(10,b,5,2,"ion-col",6),e.qZA()(),e.TgZ(11,"ion-fab",7)(12,"ion-fab-button",8),e.NdJ("click",function(){return a.addProduct()}),e._UZ(13,"ion-icon",9),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(7),e.Q6J("fullscreen",!0),e.xp6(3),e.Q6J("ngForOf",a.products))},dependencies:[n.YG,n.wI,n.W2,n.IJ,n.W4,n.jY,n.Gu,n.gu,n.Ie,n.q_,n.Nd,n.wd,n.ho,n.sr,n.w,g.sg],styles:["ion-toggle[_ngcontent-%COMP%]{width:100%;padding-right:10pt;padding-left:10pt;height:100%}ion-item[_ngcontent-%COMP%]:hover   *[_ngcontent-%COMP%]{background-color:#add8e63e}"]}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(T),h.Bz]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[n.Pc,g.ez,p.u5,m.e,P]}),o})()}}]);